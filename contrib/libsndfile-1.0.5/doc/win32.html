<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>

<HEAD>
	<TITLE>
	Building libsndfile on Win32
	</TITLE>
	<META NAME="Author"      CONTENT="Erik de Castro Lopo (erikd AT zip DOT com DOT au)">
	<LINK REL=StyleSheet HREF="libsndfile.css" TYPE="text/css" MEDIA="all">
</HEAD>

<BODY TEXT="#FFFFFF" BGCOLOR="#000000" LINK="#9090FF" VLINK="#5050FF" ALINK="#FF00FF">

<H1><BR>Building libsndfile on Win32</H1>

<P>
For Win32 there is a Microsoft Visual C++ compatible makefile in the <B>Win32\</B>
directory of the distribution. Making the libsndfile DLL on Win32 involves 
the following:
</P>
<OL>
	<LI> Using WinZip in the GUI, open the libsndfile-1.X.Y.tar.gz file and 
			extract the files into a directory. The following example assumes 
		<B>C:\</B>.
	<LI> In the directory containing the extracted files, find the file 
	    	<B>Win32\Makefile.msvc</B> and open it in a text editor (ie Notepad or 
			similar). 
	<LI> Find the line which starts with <B>MSVCDir</B> and modify the directory
		    path to point to the location of MSVC++ on your machine. This allows the
			makefile to inform the compiler of the location of the standard header
			files. Note that none of the directory names are allowed to have spaces
			in them.
	<LI> Copy the file named <B>sndfile.h</B> from the <B>Win32\</B> directory to the
			<B>src\</B> directory replacing the one that was originally there.
	<LI> Copy the file named <B>config.h</B> from the <B>Win32\</B> directory to the
			<B>src\</B> directory replacing the one that was originally there.
	<LI> Open a DOS window and cd into the libsndfile-1.X.Y directory.
	<LI> Make sure that the program <B>nmake</B> (which is part of the MSCV++ 
			package) is in a directory which is part of your <B>PATH</B> variable.
	<LI> Type in the command 
			<CENTER><PRE>C:\libsndfile-1.X.Y> nmake -f Win32\Makefile.msvc      
			</PRE></CENTER>
			and press &lt;return&gt;. You should now see a a large number of compile
			commands as libsndfile.dll is built. 
	<LI> To check that the built DLL has been compiled correctly type in and run the
			command
			<CENTER><PRE>C:\libsndfile-1.X.Y> nmake -f Win32\Makefile.msvc check
			</PRE></CENTER>
			which will compile a set of test programs and run them. If any of the 
			programs fail the error message will be help in debugging the problem.
</OL>
<P>
At the end of the above procedure, you will find the DLL, <B>libsndfile.dll</B>, a
LIB file <B>libsndfile.lib</B> in the current directory. These two files, along
with the header file <B>sndfile.h</B> (in the <B>Win32\</B> directory) are all that 
you need to copy to your project in order to use libsndfile.
</P>

<H2><BR>Compile Problems</H2>
<P>
Compile problems using the above method of building the libsndfile DLL on Win32 should 
be emailed to 
	<A HREF="m&#97;ilt&#111;:&#101;rikd&#64;z&#105;p.&#99;om.au">Erik de Castro Lopo</a>.
This includes error messages generated during step 7 above.
</P>

<P>
If you are using some other method to compile the libsndfile DLL you are on your own.
</P>
<BR>

</BODY>
</HTML>
